import{a as xe,b as Ce,c as _e,d as Ie}from"/build/_shared/chunk-3JZRSC32.js";import{a as ke}from"/build/_shared/chunk-XQTPWQMB.js";import{f as Y,h as H,i as X,j}from"/build/_shared/chunk-RN6E5LIV.js";import{E as l,e as y,f as G,h as M,o as z,p as F,t as U,u as W,v as L,x as Q,y as V,z as E}from"/build/_shared/chunk-HKKNBERT.js";import{a as S}from"/build/_shared/chunk-YSIIFUAK.js";import{o as Le}from"/build/_shared/chunk-RKTA4JHR.js";import{k as A,l as D}from"/build/_shared/chunk-A5LLPIWI.js";import{a as ye,c as u,d as $,e as t,f as g}from"/build/_shared/chunk-LXOZ5UBZ.js";var Z=ye((ot,K)=>{g();var Te="Expected a function",q=NaN,Ee="[object Symbol]",je=/^\s+|\s+$/g,Be=/^[-+]0x[0-9a-f]+$/i,we=/^0b[01]+$/i,Oe=/^0o[0-7]+$/i,Pe=parseInt,Ne=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,$e=typeof self=="object"&&self&&self.Object===Object&&self,Ae=Ne||$e||Function("return this")(),De=Object.prototype,Ge=De.toString,Me=Math.max,ze=Math.min,B=function(){return Ae.Date.now()};function Fe(e,r,n){var s,d,p,a,o,m,c=0,x=!1,v=!1,h=!0;if(typeof e!="function")throw new TypeError(Te);r=J(r)||0,w(n)&&(x=!!n.leading,v="maxWait"in n,p=v?Me(J(n.maxWait)||0,r):p,h="trailing"in n?!!n.trailing:h);function I(i){var f=s,b=d;return s=d=void 0,c=i,a=e.apply(b,f),a}function Se(i){return c=i,o=setTimeout(C,r),x?I(i):a}function ve(i){var f=i-m,b=i-c,N=r-f;return v?ze(N,p-b):N}function O(i){var f=i-m,b=i-c;return m===void 0||f>=r||f<0||v&&b>=p}function C(){var i=B();if(O(i))return P(i);o=setTimeout(C,ve(i))}function P(i){return o=void 0,h&&s?I(i):(s=d=void 0,a)}function he(){o!==void 0&&clearTimeout(o),c=0,s=m=d=o=void 0}function be(){return o===void 0?a:P(B())}function T(){var i=B(),f=O(i);if(s=arguments,d=this,m=i,f){if(o===void 0)return Se(m);if(v)return o=setTimeout(C,r),I(m)}return o===void 0&&(o=setTimeout(C,r)),a}return T.cancel=he,T.flush=be,T}function w(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function Ue(e){return!!e&&typeof e=="object"}function We(e){return typeof e=="symbol"||Ue(e)&&Ge.call(e)==Ee}function J(e){if(typeof e=="number")return e;if(We(e))return q;if(w(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=w(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=e.replace(je,"");var n=we.test(e);return n||Oe.test(e)?Pe(e.slice(2),n?2:8):Be.test(e)?q:+e}K.exports=Fe});g();g();var Re=u(ke());g();var de=u(xe()),ge=u(Ce()),me=u(_e()),ce=u(Ie());g();var _=u($()),re=u(Z());var R="/build/_assets/index-3YDOVAJF.css";g();var Ve=[{name:"tag",regex:/.+(\[.+\])/gm},{name:"classname",regex:/((net|org|com)\/.+)(\.class)/gm},{name:"org",regex:/((net|org|com).+)( |\$?)/gm},{name:"url",regex:/((http).+)( |)/gm},{name:"command",regex:/(().+:)/gm},{name:"path",regex:/(\/.+)( |)/gm}],ee=e=>e.reduce((r,n)=>[...r,...n.split(`
`)],[]),te=e=>{let r={raw:e,groups:[]},n=Ve.reduce((s,d)=>{let p=s.raw.match(d.regex);if(p&&p[0]){let a=s.raw.split(p[0]);s.groups.push({value:a[0]}),s.groups.push({name:d.name,value:p[0]}),s.groups.push({value:a[1]}),s.raw=s.raw.replace(p[0],"")}return s},r);return n.groups.length||n.groups.push({value:n.raw}),n};var Ye=250,He=100,Xe=({serverId:e})=>{let r=[],[n,s]=(0,_.useState)([]),d=(0,_.useCallback)((0,re.default)(a=>s(ee(a.slice(-He))),Ye),[]);S.on("logs",(a,o)=>{if(e){e===a&&(r.push(o),d(r));return}r.push(o),d(r)});let p=a=>te(a).groups.map((o,m)=>o.name?t.createElement("span",{key:`${o.name}_${m}`,className:`serverLogs__${o.name}`},o.value):t.createElement("span",{key:`${o.name}_${m}`,className:"serverLogs__line"},o.value));return t.createElement("div",{className:"serverLogs"},n.map((a,o)=>t.createElement("span",{key:`${a.length}_${o}`,className:"serverLogs__log"},p(a))))},ne=()=>[{rel:"stylesheet",href:R}],oe=Xe;var se="/build/_assets/index-NSPY25RJ.css";g();var ie=u(Le());var ae="/build/_assets/index-DDNYBECA.css";var Ke=({content:e,color:r,altColor:n})=>t.createElement("div",{className:(0,ie.default)("badge",`badge_${n}`)},t.createElement(M,{content:e,color:r})),le=()=>[{rel:"stylesheet",href:ae}],pe=Ke;var Ze=({server:e,onInstall:r,onStart:n,onStop:s,onRemove:d,onEulaChange:p})=>{let a=H(Y),o=()=>r(),m=()=>n(),c=()=>s(),x=()=>d(),v=h=>p(h);return t.createElement(W,{style:{backgroundColor:"#fff"},accordion:!0,bordered:!0},t.createElement(L,{defaultExpanded:!0,collapsible:!1},t.createElement(l,{justifyContent:"space-between",alignItems:"center"},t.createElement(l,{alignItems:"flex-start",spacing:12},t.createElement("h5",{className:"serverCardLarge__header"},e.name),t.createElement(pe,{altColor:"grey",content:e.id})),t.createElement(U,{size:"sm",color:"cyan"},e.status))),t.createElement(Q,{fluid:!0},t.createElement(V,null,t.createElement(E,{xs:a?24:12},t.createElement(L,{collapsible:!0,defaultExpanded:!0},t.createElement(l,{direction:"column",alignItems:"stretch",divider:t.createElement(z,{className:"serverCardLarge__divider"})},t.createElement(l,{justifyContent:"space-between",alignItems:"center"},t.createElement(l,{alignItems:"center",spacing:8},t.createElement(de.default,null),e.gameVersion),t.createElement(l,null,e.gameVersion)),t.createElement(l,{justifyContent:"space-between",alignItems:"center"},t.createElement(l,{alignItems:"center",spacing:8},t.createElement(ge.default,null),t.createElement("span",{style:{textTransform:"capitalize"}},e.core.type)),t.createElement(l,null,"...")),t.createElement(l,{justifyContent:"space-between",alignItems:"center"},t.createElement(l,{alignItems:"center",spacing:8},t.createElement(me.default,null),"Mods"),t.createElement(l,null,e.mods.length)),t.createElement(l,{justifyContent:"space-between",alignItems:"center"},t.createElement(l,{alignItems:"center",spacing:8},t.createElement(ce.default,null),"EULA"),t.createElement(l,null,t.createElement(F,{defaultChecked:e.eula,onChange:v}))))),t.createElement(L,{bodyFill:!0,defaultExpanded:!0,className:"serverCardLarge__footer"},t.createElement(G,null,t.createElement(l,{justifyContent:"space-between"},t.createElement(y,{appearance:"link",color:"red",size:"md",disabled:!(e.status==="created"||e.status==="stopped"),onClick:x},e.status==="removing"?"Removing...":"Remove"),t.createElement(l,{spacing:12},t.createElement(y,{appearance:"link",color:"cyan",disabled:e.status==="coreInstalled"||e.status==="coreInstalling",size:"md",onClick:o},e.status==="coreInstalling"?"Installing...":"Install"),t.createElement(y,{appearance:"link",color:"orange",disabled:e.status==="stopping"||e.status==="stopped",size:"md",onClick:c},e.status==="stopping"?"Stopping...":"Stop"),t.createElement(y,{appearance:"ghost",disabled:e.status==="starting"||e.status==="started",size:"md",onClick:m},e.status==="starting"?"Starting...":"Start")))))),t.createElement(E,{xs:a?24:12},t.createElement(L,{collapsible:!0,defaultExpanded:!0,header:"Logs"},t.createElement(oe,null))))))},ue=()=>[{rel:"stylesheet",href:se},...ne(),...le()],fe=Ze;var k=u($());var et=()=>{let e=A(),r=D(),[n,s]=(0,k.useState)();return(0,k.useEffect)(()=>{s(r.data)},[r.data]),(0,k.useEffect)(()=>{S.on("serverUpdate",c=>{s(c)})},[]),n?t.createElement(j,{pageTitle:"Servers",path:["Servers"]},t.createElement(fe,{server:n,onInstall:()=>{S.emit("installCore",n)},onStart:()=>{S.emit("start",n)},onStop:()=>{S.emit("stop",n)},onRemove:()=>{e(null,{method:"delete",action:`servers/${n.id}/api/remove`})},onEulaChange:c=>{S.emit("eula",n,c)}})):t.createElement(j,{pageTitle:"Servers",path:["Servers"]},t.createElement("div",null,"Oops, something went wrong..."))},tt=()=>({title:"RanaMC | Server"}),rt=()=>[...X(),...ue()],nt=et;export{nt as default,rt as links,tt as meta};
