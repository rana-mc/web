import{a as Ce}from"/build/_shared/chunk-XQTPWQMB.js";import{b as D,g as j,i as Y,j as q}from"/build/_shared/chunk-AKP5C6Z2.js";import{A as h,J as v,d as W,j as M,v as b,w as m,x as f}from"/build/_shared/chunk-77NBV2IO.js";import{j as O,k as A,m as F}from"/build/_shared/chunk-ENKK34MM.js";import{c as d,d as k,e,f as n}from"/build/_shared/chunk-LXOZ5UBZ.js";n();n();var je=d(Ce()),T=d(k());n();var l=d(k());var Se={id:"",name:""},be=({onSubmit:r})=>{let[o,t]=(0,l.useState)(Se);return l.default.createElement(b,{layout:"inline",formValue:o,onChange:a=>{t(a)},className:"createServerForm",onSubmit:()=>{r(o)}},l.default.createElement(b.Group,{controlId:"id"},l.default.createElement(b.ControlLabel,null,l.default.createElement(v,{spacing:8},l.default.createElement(D,null),l.default.createElement("span",null,"Server Id"))),l.default.createElement(b.Control,{name:"name",style:{maxWidth:196}})),l.default.createElement(b.Group,{controlId:"name"},l.default.createElement(b.ControlLabel,null,l.default.createElement(v,{spacing:8},l.default.createElement(D,null),l.default.createElement("span",null,"Server Name"))),l.default.createElement(b.Control,{name:"id",autoComplete:"off",style:{maxWidth:196}})),l.default.createElement(b.Group,null,l.default.createElement(M,{type:"submit",appearance:"primary"},"Create Server")))};var H=be;n();var K=d(k());var J="/build/_assets/index-PIUJ6HFC.css";var ke=({children:r})=>K.default.createElement("div",{className:"floatBottom"},r),Q=()=>[{rel:"stylesheet",href:J}],X=ke;n();n();var E=d(k()),re=d(W());n();var Z=d(k()),Ve=({name:r,height:o=32,width:t=32})=>Z.default.createElement("img",{src:`/icons/${r}.svg`,height:o,width:t,alt:r}),R=Ve;var ee="/build/_assets/index-V6URVYH6.css";var Fe={minecraft:"#F5F5F5",forge:"#202C44",fabric:"#BADCBA"},Te=({name:r,size:o})=>E.default.createElement("div",{className:(0,re.default)("selectIcon",`selectIcon_size-${o}`),style:{background:Fe[r]||"transparent"}},E.default.createElement(R,{name:r})),_=()=>[{rel:"stylesheet",href:ee}],x=Te;var oe="/build/_assets/index-EQ7Q4IEC.css";var Le=r=>r.filter(o=>!o.includes("Snapshot")),Be=({defaultValue:r,gameVersion:o,onChange:t})=>e.createElement(f,{defaultValue:r,className:"gameVersionSelect",inline:!0,name:"gameVersionSelect",onChange:s=>{t&&t(s)}},Le(o.versions).map(s=>e.createElement(m,{key:s,value:s},e.createElement(v,{direction:"column",spacing:8,alignItems:"flex-start"},e.createElement(x,{name:"minecraft"}),s)))),te=()=>[{rel:"stylesheet",href:oe},..._()],se=Be;n();n();var B=d(k());n();var Ge="https://meta.fabricmc.net/v2/versions/loader",ne=(r,o,t)=>{let i=`${r}/${o}/${t}/`;return`${Ge}/${i}server/jar`};var we=({gameVersionId:r,onBuild:o})=>{var P,w;let[t,i]=(0,B.useState)(),[s,a]=(0,B.useState)(),C=F(),c=F();(0,B.useEffect)(()=>{C.submit(null,{action:"servers/create/api/fabricInstallers",method:"post"}),c.submit(null,{action:"servers/create/api/fabricLoaders",method:"post"})},[r]),(0,B.useEffect)(()=>{if(s&&t){let p=s.version,V=t.version,S=ne(r,p,V);o({gameVersion:r,loader:s,installer:t,serverInstallerUrl:S})}},[t,s]);let G=p=>{var S,I;let V=(I=(S=C.data)==null?void 0:S.data)==null?void 0:I.find(L=>L.version===p);i(V)},z=p=>{var S,I;let V=(I=(S=c.data)==null?void 0:S.data)==null?void 0:I.find(L=>L.version===p);a(V)};return e.createElement(e.Fragment,null,e.createElement(h,{header:"Fabric Installer Version"},e.createElement(f,{className:"fabricInstallerSelect",inline:!0,name:"fabricInstallerSelect",onChange:G},((P=C.data)==null?void 0:P.success)&&C.data.data.map(p=>e.createElement(m,{key:p.version,value:p.version},e.createElement(v,{direction:"row",spacing:8,alignItems:"flex-start"},e.createElement(x,{name:"minecraft"}),p.version))))),e.createElement(h,{header:"Fabric Loader Version"},e.createElement(f,{className:"fabricLoaderSelect",inline:!0,name:"fabricLoaderSelect",onChange:z},((w=c.data)==null?void 0:w.success)&&c.data.data.map(p=>e.createElement(m,{key:p.version,value:p.version},e.createElement(v,{direction:"row",spacing:8,alignItems:"flex-start"},e.createElement(x,{name:"minecraft"}),p.version))))))};var ie=we;n();var ae=d(k());var Ne=({gameVersionId:r,onBuild:o})=>{var s;let t=F();return(0,ae.useEffect)(()=>{t.submit({version:r},{action:"servers/create/api/forgeCores",method:"post"})},[r]),e.createElement(h,{header:"Forge Core Version"},e.createElement(f,{className:"forgeCoreSelect",inline:!0,name:"forgeCoreSelect",onChange:a=>{var c;let C=(c=t.data)==null?void 0:c.data.find(G=>G.coreVersion===a);C&&o(C)}},((s=t.data)==null?void 0:s.success)&&t.data.data.map(a=>e.createElement(m,{key:a.coreVersion,value:a.coreVersion},e.createElement(v,{direction:"row",spacing:8,alignItems:"flex-start"},e.createElement(x,{name:"minecraft"}),a.coreVersion)))))};var le=Ne;var pe="/build/_assets/index-WMG34KZ3.css";var ze=({gameVersionId:r,coreTypeId:o,onBuild:t})=>{let i=a=>t({type:"forge",...a}),s=a=>t({type:"fabric",...a});return r?e.createElement(e.Fragment,null,o==="forge"&&e.createElement(le,{gameVersionId:r,onBuild:i}),o==="fabric"&&e.createElement(ie,{gameVersionId:r,onBuild:s})):null},ce=()=>[{rel:"stylesheet",href:pe}],de=ze;n();var y=d(k()),fe=d(W());var me="/build/_assets/index-M2RG7MCI.css";var Ee=({title:r,description:o,icon:t,onClick:i,active:s})=>{let a=()=>i&&i();return y.default.createElement("div",{role:"presentation",className:(0,fe.default)("serverCoreType",{serverCoreType_active:s}),onClick:a},y.default.createElement(x,{name:t,size:"l"}),y.default.createElement("div",{className:"serverCoreType__title"},y.default.createElement("b",null,r)),y.default.createElement("div",{className:"serverCoreType__description"},y.default.createElement("span",null,o)))},Ue=[{id:"forge",title:"Forge",description:"Popular choice",icon:"forge"},{id:"fabric",title:"Fabric",description:"Lightweight alternative",icon:"fabric"}],$e=({defaultValue:r,onChange:o})=>y.default.createElement(f,{defaultValue:r,className:"serverCoreSelect",inline:!0,name:"serverCoreSelect",onChange:i=>{o&&o(i)}},Ue.map(i=>y.default.createElement(m,{key:i.id,value:i.id},y.default.createElement(Ee,{title:i.title,description:i.description,icon:i.icon})))),ue=()=>[{rel:"stylesheet",href:me}],ge=$e;n();var he="/build/_assets/index-DRA7TEC7.css";var Ae=r=>r.filter(o=>!j.includes(o.id)),We=r=>r.replace(/Minecraft/gm,""),Me=({defaultValue:r,versionTypes:o,onChange:t})=>e.createElement(f,{defaultValue:r,className:"versionTypeSelect",name:"version",inline:!0,appearance:"picker",onChange:s=>{t&&t(s)}},Ae(o).map(s=>e.createElement(m,{key:s.id,value:s.id},We(s.name)))),ve=()=>[{rel:"stylesheet",href:he}],ye=Me;var Ye=()=>({title:"RanaMC | Servers"});var qe=(r=[],o=-1)=>r==null?void 0:r.find(t=>t.type===o),He=()=>{let r=O(),[o,t]=(0,T.useState)(),[i,s]=(0,T.useState)(),[a,C]=(0,T.useState)(),[c,G]=(0,T.useState)(),z=A(),P=F(),w=u=>{t(u),P.submit({version:u.toString()},{method:"post",action:"/servers/create/api/gameVersions"})},p=u=>{s(u)},V=u=>{C(u)},S=u=>{G(u)},I=u=>{let{id:U,name:$}=u;if(U&&$&&i&&o&&c){let N={id:U,name:$,gameVersionId:i,versionTypeId:o,coreType:c.type};if(c.type==="forge"){let g=c;(g==null?void 0:g.installerUrl)&&window.open(g==null?void 0:g.installerUrl,"_blank","noopener,noreferrer"),N.coreVersion=g.coreVersion}if(c.type==="fabric"){let g=c;N.installerVersion=g.installer.version,N.loaderVersion=g.loader.version}r(N,{method:"post",action:"servers/create/api/createServer"})}},L=(0,T.useMemo)(()=>qe(P.data,o),[o,P]);return e.createElement(q,{pageTitle:"Create Server",path:["Home","Servers"]},e.createElement(h,{style:{backgroundColor:"#fff",marginBottom:32},header:e.createElement("h4",{style:{fontWeight:600}},"Game Version"),bordered:!0},e.createElement(ye,{defaultValue:o,versionTypes:z,onChange:w}),L&&e.createElement(se,{gameVersion:L,onChange:p})),e.createElement(h,{style:{backgroundColor:"#fff",marginBottom:32},header:e.createElement("h4",{style:{fontWeight:600}},"Server Type"),bordered:!0},e.createElement(ge,{defaultValue:a,onChange:V})),e.createElement(h,{style:{backgroundColor:"#fff",marginBottom:32},header:e.createElement("h4",{style:{fontWeight:600}},"Core"),bordered:!0},a&&e.createElement(de,{gameVersionId:i,coreTypeId:a,onBuild:S})),e.createElement(X,null,e.createElement(h,{style:{backgroundColor:"#F5F5F5"},bordered:!0},e.createElement(H,{onSubmit:I}))))},Je=()=>[...Y(),...Q(),...te(),...ce(),...ue(),...ve()],Ke=He;export{Ke as default,Je as links,Ye as meta};
